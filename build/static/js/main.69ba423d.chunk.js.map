{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","handler","value","onChange","PersonForm","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","remove","name","number","onClick","Persons","filteredPersons","removePerson","map","key","id","Notification","message","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","notificationMessage","setNotificationMessage","displayNotification","setTimeout","p","toLowerCase","includes","useEffect","personService","initialPersons","event","target","preventDefault","length","window","confirm","find","changedPerson","returnedPerson","catch","error","concat","String","ReactDOM","render","document","getElementById"],"mappings":"uOAWeA,EATA,SAAC,GAAuB,IAAtBC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,QACvB,OACE,iDAEE,2BAAOC,MAAOF,EAAQG,SAAUF,MCcvBG,EAlBI,SAACC,GAClB,OACE,0BAAMC,SAAUD,EAAME,WACpB,qCAEE,2BAAOL,MAAOG,EAAMG,QAASL,SAAUE,EAAMI,oBAE/C,uCAEE,2BAAOP,MAAOG,EAAMK,UAAWP,SAAUE,EAAMM,sBAEjD,6BACE,4BAAQC,KAAK,UAAb,UCZFC,EAAS,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,OACvB,OACE,4BACGD,EAAOE,KADV,IACiBF,EAAOG,OACtB,4BAAQC,QAASH,GAAjB,YAoBSI,EAfC,SAAC,GAAqC,IAApCC,EAAmC,EAAnCA,gBAAiBC,EAAkB,EAAlBA,aACjC,OACE,4BACGD,EAAgBE,KAAI,SAACR,GAAD,OACnB,kBAAC,EAAD,CACES,IAAKT,EAAOU,GACZV,OAAQA,EACRC,OAAQ,kBAAMM,EAAaP,EAAOE,KAAMF,EAAOU,YCJ1CC,EAZM,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,QAASd,EAAW,EAAXA,KAC/B,OAAgB,OAAZc,EACK,KAIP,yBAAKC,UAAS,UAAKf,IAChBc,I,gBCNDE,EAAU,eAqBD,EAnBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAiB5B,EAdA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAY5B,EATA,SAACT,EAAIU,GAElB,OADgBL,IAAMO,IAAN,UAAaR,EAAb,YAAwBJ,GAAMU,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAO5B,EAJA,SAAAT,GACZ,OAAOK,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BJ,KC6GtBc,EAzHH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRC,EADQ,KACCC,EADD,OAEgBF,mBAAS,IAFzB,mBAER/B,EAFQ,KAECkC,EAFD,OAGoBH,mBAAS,IAH7B,mBAGR7B,EAHQ,KAGGiC,EAHH,OAIcJ,mBAAS,IAJvB,mBAIRvC,EAJQ,KAIA4C,EAJA,OAKwCL,mBAAS,CAACb,QAAS,KAAMd,KAAM,OALvE,mBAKRiC,EALQ,KAKaC,EALb,KAmBVC,EAAsB,SAACrB,EAASd,GACpCkC,EAAuB,CAACpB,UAASd,SACjCoC,YAAW,WACTF,EAAuB,CAACpB,QAAS,KAAMd,KAAM,SAC5C,MAGCQ,EAAkBoB,EAAQxC,QAC9B,SAAAiD,GAAC,OAAIA,EAAEjC,KAAKkC,cAAcC,SAASnD,EAAOkD,kBAqE5C,OARAE,qBAAU,WACRC,IAEKtB,MAAK,SAAAuB,GACJb,EAAWa,QAEhB,IAGD,6BACE,yCACE,kBAAC,EAAD,CACE5B,QAASmB,EAAoBnB,QAC7Bd,KAAMiC,EAAoBjC,OAE5B,kBAAC,EAAD,CAAQZ,OAAQA,EAAQC,QAxFH,SAACsD,GAC1BX,EAAUW,EAAMC,OAAOtD,UAwFrB,yCACE,kBAAC,EAAD,CACEK,UA7EU,SAACgD,GAEjB,GADAA,EAAME,iBACFjB,EAAQxC,QAAO,SAAAiD,GAAC,OAAGA,EAAEjC,OAAOR,KAAUkD,OAAS,GACjD,GAAIC,OAAOC,QAAQ,UAAGpD,EAAH,8EACwB,CACzC,IAAMM,EAAS0B,EAAQqB,MAAK,SAAAZ,GAAC,OAAIA,EAAEjC,OAASR,KACtCsD,EAAa,eAAQhD,EAAR,CAAgBG,OAAQP,IAE3C2C,EACUvC,EAAOU,GAAIsC,GAChB/B,MAAK,SAAAgC,GACJtB,EAAWD,EAAQlB,KAAI,SAAA2B,GAAC,OAAIA,EAAEzB,KAAOV,EAAOU,GAAKyB,EAAIc,MACrDrB,EAAW,IACXC,EAAa,IACbI,EAAoB,sBAAD,OAAuBjC,EAAOE,MAAQ,mBAE5DgD,OAAM,SAAAC,GACLlB,EAAoB,yBAAkBjC,EAAOE,KAAzB,4CACQ,SAC5ByB,EAAWD,EAAQxC,QAAO,SAAAiD,GAAC,OAAIA,EAAEzB,KAAOV,EAAOU,eAIlD,CACH,IAAMV,EAAS,CACbE,KAAMR,EACNS,OAAQP,GAGV2C,EACUvC,GACLiB,MAAK,SAAAgC,GACJtB,EAAWD,EAAQ0B,OAAOH,IAC1BrB,EAAW,IACXC,EAAa,IACbI,EAAoB,SAAD,OAAUjC,EAAOE,MAAQ,mBAE7CgD,OAAM,SAAAC,GACLlB,EAAoBoB,OAAOF,EAAMjC,SAASC,KAAKgC,OAAQ,cAwCzDzD,QAASA,EACTC,iBArGiB,SAAC8C,GACxBb,EAAWa,EAAMC,OAAOtD,QAqGlBQ,UAAWA,EACXC,mBAnGmB,SAAC4C,GAC1BZ,EAAaY,EAAMC,OAAOtD,UAoGxB,uCACE,kBAAC,EAAD,CACEkB,gBAAiBA,EACjBC,aA3Ca,SAACL,EAAMQ,GACtBmC,OAAOC,QAAP,iBAAyB5C,EAAzB,QACFqC,EACU7B,GACLO,MAAK,WACJU,EAAWD,EAAQxC,QAAO,SAAAiD,GAAC,OAAIA,EAAEzB,KAAOA,MACxCuB,EAAoB,WAAD,OAAY/B,GAAQ,mBAE1CgD,OAAM,SAAAC,GACLlB,EAAoB,yBAAkB/B,EAAlB,4CACQ,SAC5ByB,EAAWD,EAAQxC,QAAO,SAAAiD,GAAC,OAAIA,EAAEzB,KAAOA,c,MCrFlD4C,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.69ba423d.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filter, handler}) => {\r\n  return (\r\n    <div>\r\n      filter shown with\r\n      <input value={filter} onChange={handler}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.addPerson}>\r\n      <div>\r\n        name: \r\n        <input value={props.newName} onChange={props.handleNameChange}/>\r\n      </div>\r\n      <div>\r\n        number:\r\n        <input value={props.newNumber} onChange={props.handleNumberChange}/>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({person, remove}) => {\r\n  return (\r\n    <li>\r\n      {person.name} {person.number} \r\n      <button onClick={remove}>delete</button>\r\n    </li>\r\n  )\r\n}\r\n\r\nconst Persons = ({filteredPersons, removePerson}) => {\r\n  return (\r\n    <ul>\r\n      {filteredPersons.map((person) =>\r\n        <Person\r\n          key={person.id}\r\n          person={person} \r\n          remove={() => removePerson(person.name, person.id)}\r\n        />\r\n      )}\r\n    </ul>\r\n  )\r\n\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message, type }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={`${type}`}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n//Osa2: const baseUrl = 'http://localhost:3001/persons'\r\n//const baseUrl = 'http://localhost:3001/api/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n   return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\n\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ notificationMessage, setNotificationMessage ] = useState({message: null, type: null}) \n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const displayNotification = (message, type) => {\n    setNotificationMessage({message, type})\n    setTimeout(() => {\n      setNotificationMessage({message: null, type: null})\n    }, 5000)\n  }\n\n  const filteredPersons = persons.filter(\n    p => p.name.toLowerCase().includes(filter.toLowerCase()) )\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.filter(p=>(p.name===newName)).length > 0 ) {\n      if (window.confirm(`${newName} is already added to phonebook, ` +\n      `replace the old number with a new one?`)) {\n        const person = persons.find(p => p.name === newName)\n        const changedPerson = { ...person, number: newNumber}\n\n        personService\n          .update(person.id, changedPerson)\n            .then(returnedPerson => {\n              setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\n              setNewName('')\n              setNewNumber('')\n              displayNotification(`Updated number for ${person.name}`, 'notification')\n            })\n          .catch(error => {\n            displayNotification(`Information of ${person.name} has already `+\n            `been removed from server`, 'error')\n            setPersons(persons.filter(p => p.id !== person.id))\n          })\n      }\n    }\n    else {\n      const person = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .create(person)\n          .then(returnedPerson => {\n            setPersons(persons.concat(returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            displayNotification(`Added ${person.name}`, 'notification')\n          })\n          .catch(error => {\n            displayNotification(String(error.response.data.error), 'error')\n          })\n    }\n  }\n\n  const removePerson = (name, id) => {\n    if (window.confirm(`Delete ${name} ?`)) {\n      personService\n        .remove(id)\n          .then(() => {\n            setPersons(persons.filter(p => p.id !== id))\n            displayNotification(`Deleted ${name}`, 'notification')\n          })\n        .catch(error => {\n          displayNotification(`Information of ${name} has already `+\n          `been removed from server`, 'error')\n          setPersons(persons.filter(p => p.id !== id))\n        })\n    }\n  }\n\n  useEffect(() => {\n    personService\n      .getAll()\n        .then(initialPersons => {\n          setPersons(initialPersons)\n        })\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n        <Notification\n          message={notificationMessage.message}\n          type={notificationMessage.type} \n        />\n        <Filter filter={filter} handler={handleFilterChange}/>\n      <h3>add a new</h3>\n        <PersonForm\n          addPerson={addPerson} \n          newName={newName}\n          handleNameChange={handleNameChange}\n          newNumber={newNumber}\n          handleNumberChange={handleNumberChange}\n        />\n      <h3>Numbers</h3>\n        <Persons\n          filteredPersons={filteredPersons}\n          removePerson={removePerson}\n        />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}